services:
  made-in-china-scraper:
    build: .
    container_name: made-in-china-scraper
    env_file:
      - .env
    volumes:
      - ./data:${DATA_DIR:-/app/data}
      - ./logs:${LOGS_DIR:-/app/logs}
      - ./history:${HISTORY_DIR:-/app/history}
    ports:
      - "18000:8000"
    environment:
      DISPLAY: ${DISPLAY:-:99}
      CHROME_BIN: ${CHROME_BIN:-/usr/bin/google-chrome}
      CHROME_DRIVER_PATH: ${CHROME_DRIVER_PATH:-/usr/bin/chromedriver}
      PYTHONUNBUFFERED: "1"
    command: ["sh", "-c", "uvicorn src.api:app --host 0.0.0.0 --port 8000"]
    restart: unless-stopped








